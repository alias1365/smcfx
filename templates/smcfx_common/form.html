{% load form_tags widget_tweaks %}

{% if form.non_field_errors %}
    <div class="alert alert-danger mb-3" role="alert">
        {% for error in form.non_field_errors %}
            <div>{{ error }}</div>
        {% endfor %}
    </div>
{% endif %}

{% for field in form %}
    {% if field|field_type != 'imagefield' %}
        <div class="mb-3">
            <label class="form-label" for="{{ field.id_for_label }}">{{ field.label }}</label>

            {% if disabled == "true" %}
                {% render_field field class=field|input_class disabled=True %}
            {% else %}
                {% render_field field class=field|input_class %}
            {% endif %}

            {% if field.errors %}
                {% for error in field.errors %}
                    <div class="invalid-feedback d-block">
                        {{ error|trans_error }}
                    </div>
                {% endfor %}
            {% endif %}

            {% if field.help_text %}
                <div class="form-text">{{ field.help_text|safe }}</div>
            {% endif %}
        </div>
    {% endif %}
{% endfor %}
